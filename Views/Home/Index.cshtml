@{
    ViewData["Title"] = "Login Page";
}
@model LoginForm;

<div class="m-auto col-md-8">
    <div class="d-flex flex-row justify-content-center align-item-center mb-5 fs-3 mt-5">
        <img src="images/pizzashop_logo.png" alt="pizashop-logo" class="img-fliud pizza-logo" />
        <div class="brand-name mt-1"><b>PIZZASHOP</b></div>
    </div>
    <h4>Welcome,</h4>
    <form asp-action="Index" asp-controller="Home" class="mb-5 needs-validation mt-4" id="loginForm" novalidate>
        <div class="d-flex mb-3">
            <input asp-for="Email" type="email" class="form-control" id="email" aria-describedby="emailHelp"
                placeholder="Email*" />
            <div class="position-">
                <img src="images/user-icon.png" alt="user-icon" class="login-icon position-absolute mt-1" />
            </div>
        </div>
        <span asp-validation-for="Email" class="text-danger mb-3"></span>

        <div class="d-flex mb-3 mt-3">
            <input asp-for="Password" type="password" class="form-control input-psw" id="password"
                placeholder="Password*" title="Please enter valid password" is-valid />
            <span>
                <img src="images/eye-open.png" alt="user-icon" class="login-icon mt-1"
                    onclick="togglePassword(password,this)" />
            </span>
        </div>
        <span asp-validation-for="Password" class="text-danger mb-3"></span>
        <div class="d-flex justify-content-between align-items-center my-4">
            <div>
                <input asp-for="RememberMe" type="checkbox" class="form-check-input" id="exampleCheck1" />
                <label asp-for="RememberMe" class="form-check-label" for="exampleCheck1">Remember me</label>
            </div>
            @* <a asp-action="ForgotPassword?email=@email" asp-controller="Home">Forgot Password</a> *@

            <a id="ForgotPassword">Forgot Password</a>
        </div>
        <span asp-validation-for="RememberMe" class="text-danger mb-3"></span>
        <button type="submit" value="Login" class="fill-btn border-0 col-12 p-1">
            Login
        </button>
        <P class="">
            @Html.ValidationSummary()
        </P>
    </form>
</div>

@section Scripts {
    @{
        <partial name="_ValidationScriptsPartial" />
    }
    <script>
        $("#ForgotPassword").click(function () {
            let email = $("#email").val();
            console.log(email)
            if (email) {
                window.location.href = "/Home/ForgotPassword?email=" + email;
            }
            else {
                alert("Please Enter Email")
                window.location.href = "/";
            }
        })
    </script>
}